<!DOCTYPE html>
<html>
    <head>
        <style>
            button {
                background: #1E88E5;
                color: white;
                padding: 20px;
                margin: 8px;
                border: 5;
                border-radius: 50%;
                font-size: 24;
            }
            button:hover {
                background: red;
            }
        </style>
    </head>

    <h1>Reittiopas</h1>
    <h2>Solidabis - Koodihaaste</h2>

    <p>Lähtöpysäkki</p>
    <p id="start"></p>

    <p>Määränpää</p>
    <p id="end"></p>

    <!-- Käytä värejä koodihaasteen sivuilta.
    1) sininen header,
    2) harmaa tausta,
    3) linjoilla omat värit,
    4) pysäkit kaikki samanvärisiä. -->

    <script>
        var routes, prevButtonA, prevButtonB;

        function buttonListener( btn ) {
            if (btn.loc == "start") {
                if (prevButtonA) {
                    prevButtonA.style.backgroundColor = "red";
                }
                prevButtonA = btn;
            } else {
                if (prevButtonB) {
                    prevButtonB.style.backgroundColor = "red";
                }
                prevButtonB = btn;
            }
            btn.style.backgroundColor = "green";
            console.log( a, a.node, a.loc );
        }

        function createButtons( loc ) {
            var div = document.getElementById( loc );

            for ( var i = 0; i < reitit.pysakit.length; i++ ) {
                var btn = document.createElement("BUTTON");
                btn.innerHTML = reitit.pysakit[i];
                btn.node = reitit.pysakit[i];
                btn.loc = loc;
                btn.addEventListener( "click", function() {
                    buttonListener( btn );
                });
                div.appendChild( btn );
            }
        }


        fetch('./reittiopas.json')
            .then(response => {
                return response.json()
            })
            .then(data => {
                routes = data;
                createButtons( "start" );
                createButtons( "end" );
            })
            .catch(err => {
            // Do something for an error here
        })



        </script>

    </body>
</html>
